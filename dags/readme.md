# 📦 Airflow DAG Repository

이 저장소는 **Airflow DAG 전용 저장소**이며, 코드가 업데이트되면 자동으로 DAG이 배포되는 구조입니다.

## ⚙️ 배포 구조

- 이 저장소에 커밋(Push) →  
- GitHub Actions 실행 →  
- DAG 파일이 **S3 버킷**으로 업로드됨 →  
- Airflow 서버에서 S3를 기준으로 정기적으로 DAG을 **자동 동기화**  

> ⚠️ **Airflow 서버는 DAG 디렉토리를 수동으로 수정하지 않습니다.**  
> 모든 변경은 Git을 통해 반영되어야 합니다.

## 🚨 업로드 주의사항

- `dags/` 아래의 모든 `.py` 파일은 Airflow에 **자동 반영**됩니다.
- **테스트 중인 DAG이라도 main 브랜치에 머지되면 실서버에 배포됩니다.**
- DAG 내 불완전한 로직이나 에러가 있을 경우 서버 전체에 영향을 줄 수 있습니다.
- 커밋 전 반드시 다음을 확인해주세요:
  - `flake8 dags`로 코드 스타일 확인
  - `python -m py_compile dags/*.py`로 문법 오류 점검
- 테스트 중인 DAG은 **별도 브랜치** 또는 PR 상태로 유지해 주세요.

---

## ✅ 개발 체크리스트

- [ ] `@dag(schedule_interval=...)` 등 스케줄 설정 확인
- [ ] DAG 이름은 고유하게 지정
- [ ] 불필요한 파일이나 대용량 파일 업로드 금지
- [ ] 외부 API 호출 시 예외 처리 필수
